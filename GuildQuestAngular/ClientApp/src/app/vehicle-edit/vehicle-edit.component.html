<div class="container body-content" style="margin-top: 45px;">



  <h2>Edit Vehicle</h2>

  <form class="form-horizontal" id="myForm" name="myForm" *ngIf="vehicle">
    <div class="form-inline align-content-md-end">
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label text-right ml-auto" for="MakeId">Make</label>
          </div>
          <div class="col-6">
            <select [(ngModel)]="vehicle.makeID" name="makeId" id="tmake" class="form-control mx-auto w-100" ngModel>
              <option *ngFor="let make of makes" [ngValue]="make.makeID">{{make.make_Name}}</option>
            </select>

          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="MakeId" data-valmsg-replace="true"></span>
        </div>
      </div>
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="ModelId">Model</label>
          </div>
          <div class="col-6">
            <select [(ngModel)]="vehicle.makeModelID" name="modelId" id="tmodel" class="form-control mx-auto w-100" ngModel>
              <option *ngFor="let model of makemodels | modelfilter: vehicle.makeID" [ngValue]="model.makeModelID">{{model.modelName}}</option>
            </select>

          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="ModelId" data-valmsg-replace="true"></span>
        </div>
      </div>
    </div>
    <div class="form-inline">
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="Year">Year</label>
          </div>
          <div class="col-3">
            <select [(ngModel)]="vehicle.year" name="year" id="tyear" class="form-control mx-auto w-100" ngModel>
              <option *ngFor="let yr of years" [ngValue]="yr.id">{{yr.year}}</option>
            </select>
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="Year" data-valmsg-replace="true"></span>
        </div>
      </div>
      <div class="col-6">
        <div class="row">
          <div class="col-4 text-right">
            <label class="form-control-label" for="viNumber">VIN</label>
          </div>
          <div class="col-6">
            <input [(ngModel)]="vehicle.viNumber" class="form-control text-box single-line" id="viNumber" name="viNumber" type="text" ngModel />
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="viNumber" data-valmsg-replace="true"></span>
        </div>
      </div>
    </div>
    <div class="form-inline">
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="tbodystyle">Body Style</label>
          </div>
          <div class="col-6">
            <select [(ngModel)]="vehicle.bodyStyleID" name="bodyStyleId" id="tbodystyle" class="form-control mx-auto w-100" ngModel>
              <option *ngFor="let body of bodystyles" [ngValue]="body.bodyStyleID">{{body.bodyStyle1}}</option>
            </select>
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="BodyStyleID" data-valmsg-replace="true"></span>
        </div>
      </div>
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="ttran">Transmission Type</label>
          </div>
          <div class="col-6">
            <select [(ngModel)]="vehicle.transmissionTypeID" name="transmissionTypeId" id="ttran" class="form-control mx-auto w-100" ngModel>
              <option *ngFor="let tran of transmissions" [ngValue]="tran.transmissionTypeID">{{tran.transmissionType1}}</option>
            </select>

          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="TransmissionTypeID" data-valmsg-replace="true"></span>
        </div>
      </div>
    </div>
    <div class="form-inline">
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="ecolor">Exterior Color</label>
          </div>
          <div class="col-6">
            <select [(ngModel)]="vehicle.exteriorColorID" name="exteriorColorId" id="ecolor" class="form-control mx-auto w-100" ngModel>
              <option *ngFor="let ecol of exteriorcolors" [ngValue]="ecol.exteriorColorID">{{ecol.exteriorColor1}}</option>
            </select>
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="ExteriorColorID" data-valmsg-replace="true"></span>
        </div>
      </div>
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="SalesPrice">Sale Price</label>

          </div>
          <div class="col-3">
            <input [(ngModel)]="vehicle.salesPrice" class="form-control text-right pr-1 text-box single-line" id="SalesPrice" name="SalesPrice" type="text" value="$14,324" ngModel />
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="SalesPrice" data-valmsg-replace="true"></span>
        </div>
      </div>
    </div>
    <div class="form-inline">
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="icolor">Interior Color</label>
          </div>
          <div class="col-6">
            <select [(ngModel)]="vehicle.interiorColorID" name="interiorColorId" id="icolor" class="form-control mx-auto w-100" ngModel>
              <option *ngFor="let icol of interiorcolors" [ngValue]="icol.interiorColorID">{{icol.interiorColor1}}</option>
            </select>
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="InteriorColorID" data-valmsg-replace="true"></span>
        </div>
      </div>
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="MSRPrice">MSRP</label>
          </div>
          <div class="col-3">
            <input [(ngModel)]="vehicle.msrPrice" class="form-control text-right pr-1 text-box single-line" id="MSRPrice" name="MSRPrice" type="text" value="$18,550" ngModel />
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="MSRPrice" data-valmsg-replace="true"></span>
        </div>
      </div>
    </div>
    <div class="form-inline">
      <div class="col-6">
        <div class="row">

          <div class="offset-3 col-1">
            <input [(ngModel)]="vehicle.sold" class="squaredTwo" data-val="true" data-val-required="The Sold field is required." id="Sold" name="Sold" type="checkbox" value="true" /><input name="Sold" type="hidden" value="false" ngModel />
          </div>
          <div class="col-6">
            <label class="form-control-label label-left" for="Sold">Sold?</label>
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="Sold" data-valmsg-replace="true"></span>
        </div>
      </div>
      <div class="col-6">
        <div class="row">
          <div class="col-4">
            <label class="form-control-label" for="Mileage">Mileage</label>
          </div>
          <div class="col-3">
            <input [(ngModel)]="vehicle.mileage" class="form-control text-right pr-1 text-box single-line" id="Mileage" name="Mileage" type="text" value="125000" ngModel />
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="Mileage" data-valmsg-replace="true"></span>
        </div>
      </div>
    </div>
    <div class="form-inline">
      <div class="col-6">
        <div class="row">

          <div class="offset-3 col-1">
            <input [(ngModel)]="vehicle.featured" class="squaredTwo" data-val="true" id="Feat" name="Featured" type="checkbox" ngModel />
          </div>
          <div class="col-6">
            <label class="form-control-label label-left" for="feat">Feature this vehicle?</label>
          </div>
          <span class="field-validation-valid text-danger" data-valmsg-for="Sold" data-valmsg-replace="true"></span>
        </div>
      </div>
      <div class="col-6">
        <div class="row">
        </div>
      </div>
    </div>
    <hr />
  <div class="form-inline w-100">
    <div class="row w-100">
      <div class="offset-6 col-6">
        <label class="form-control-label float-left h4" for="Description" id="labelDescription">Description</label>
      </div>
    </div>
    <div class="row w-100">
      <div class="col-5" id="origImage">
        <div class="row">
          <div class="col-12">
            <app-progressive-image [width]="100" [height]="300">
              <img appProgressiveImage [src]="src(vehicle.viNumber)"/>
              <div appProgressiveImagePlaceholder class="placeholder">
                Loading...
              </div>
            </app-progressive-image>
          </div>
        </div>
        <div class="row">
          <div class="col-12">
            <button class="btn btn-lg btn-secondary   w-100" (click)="open(content)">
              Replace image
            </button>
          </div>
        </div>
      </div>
      <div class="offset-1 col-6">
        <div class="row w-100 mx-0">
          <textarea [froalaEditor]="options" [(ngModel)]="vehicle.description"  class="form-control  w-100 h-100 mx-0" id="Description" name="Description"   ngModel>
            </textarea>
          <span class="field-validation-valid text-danger" data-valmsg-for="Description" data-valmsg-replace="true"></span>
        </div>
      </div>
    </div>
  </div>

    <hr />

    <div class="row justify-content-start">
      <a class="btn btn-danger hm-blue-light red " href="/Admin/DeleteVehicle/1">Delete</a>
      <a class="btn btn-primary hm-green-light  " href="/Admin/EditVehicle/1">Save</a>
    </div>
  </form>
  <ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title">Replace image</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group col">
        <div class="col-md-12">

          <app-progressive-image [width]="100" [height]="300">
            <img appProgressiveImage[src]="url" />
            <div appProgressiveImagePlaceholder class="placeholder">
              Loading...
            </div>
          </app-progressive-image>
          <input type='file' id="fileupload" class="btn btn-lg w-100" accept="image/*" (change)="onSelectFile($event)">
        </div>
      </div>

    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" id="saveButton">Save changes</button>
      <button type="button" class="btn btn-secondary" (click)="c('Close click')">Close</button>
    </div>
  </ng-template>

  <!--<pre>{{myForm.value | json}}</pre>-->
</div>
